<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Panel LIFEPAR - Entrenadores</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="admin.css?v=2.1">
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Quicksand:wght@400;600&family=Dancing+Script&display=swap" rel="stylesheet">
  <link rel="shortcut icon" href="#">
</head>
<body>

<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
    <button type="button" class="perfil-btn-nav" onclick="abrirPerfil(); event.stopPropagation();" title="Mi Perfil">👤</button>
  </div>
  <nav class="nav-lateral">
    <div class="menu-seccion">
      <a href="javascript:void(0)" class="nav-item" onclick="toggleArbol('arbol-zonas')">
        📊 <span>ZONAS</span> <span class="flecha" id="flecha-zonas">▾</span>
      </a>
      <div id="arbol-zonas" class="submenu-lista">
        <a href="javascript:void(0)" onclick="mostrarAccionesZona(1)">ZONA 1</a>
        <a href="javascript:void(0)" onclick="mostrarAccionesZona(2)">ZONA 2</a>
        <a href="javascript:void(0)" onclick="mostrarAccionesZona(3)">ZONA 3</a>
        <a href="javascript:void(0)" onclick="mostrarAccionesZona(4)">ZONA 4</a>
        <a href="javascript:void(0)" onclick="mostrarAccionesZona(5)">ZONA 5</a>
        <a href="javascript:void(0)" onclick="mostrarAccionesZona(6)">ZONA 6</a>
      </div>
    </div>

<div class="menu-seccion">

  <!-- BOTÓN PRINCIPAL -->
  <a href="javascript:void(0)" class="nav-item" onclick="toggleArbol('arbol-clinicas')">
    ⛸️ <span>CLÍNICAS</span> <span class="flecha">▾</span>
  </a>

  <div id="arbol-clinicas" class="submenu-lista">

    <!-- FEBRERO -->
    <a href="javascript:void(0)" class="nav-item" onclick="toggleArbol('clinicas-feb')">
      📅 CLÍNICAS FEBRERO
    </a>

    <div id="clinicas-feb" class="submenu-lista" style="padding-left:15px">
      <a href="javascript:void(0)" onclick="mostrarClinica('feb-1-3')">ZONA 1 Y 3</a>
      <a href="javascript:void(0)" onclick="mostrarClinica('feb-2-4')">ZONA 2 Y 4</a>
      <a href="javascript:void(0)" onclick="mostrarClinica('feb-5-6')">ZONA 5 Y 6</a>
    </div>

    <!-- MARZO -->
    <a href="javascript:void(0)" class="nav-item" onclick="toggleArbol('clinicas-mar')">
      📅 CLÍNICAS MARZO
    </a>

    <div id="clinicas-mar" class="submenu-lista" style="padding-left:15px">
      <a href="javascript:void(0)" onclick="mostrarClinica('mar-1-3')">ZONA 1 Y 3</a>
      <a href="javascript:void(0)" onclick="mostrarClinica('mar-2-4')">ZONA 2 Y 4</a>
      <a href="javascript:void(0)" onclick="mostrarClinica('mar-5-6')">ZONA 5 Y 6</a>
    </div>

  </div>
</div>

<div class="menu-seccion">
    <a href="https://drive.google.com/drive/folders/1qPOD-vSua_zh9WP_SQomZ2r6P-kMyrkp?usp=drive_link" target="_blank" class="nav-item">
      🛡️ <span>SEGUROS</span>
    </a>
 </div>

<div class="menu-seccion">
    <a href="https://drive.google.com/drive/folders/1jeKMSZhLfi_oS9Yz-YNg46qQ4Kw-la25?usp=drive_link" target="_blank" class="nav-item">
      📜 <span>REGLAMENTOS</span>
    </a>
  </div>

  <div class="menu-seccion">
    <a href="https://drive.google.com/drive/folders/1QCHBw0will7Lhi13W2hy9M5K74GP8JRE?usp=drive_link" target="_blank" class="nav-item">
      🚀 <span>PROYECTO 2026</span>
    </a>
  </div>

  <div class="menu-seccion">
    <a href="javascript:void(0)" class="nav-item" onclick="toggleArbol('arbol-tutoriales')">
      🎥 <span>EXPLORÁ LIFEPAR WEB</span> <span class="flecha">▾</span>
    </a>
    <div id="arbol-tutoriales" class="submenu-lista">
       <a href="javascript:void(0)" onclick="abrirVideoTutorial('T7L5CcPoZXA')">1. ¿Cómo inicio Sesión?</a>
       <a href="javascript:void(0)" onclick="abrirVideoTutorial('-1FaFF0yMdg')">2. ¿Cómo asociar nuevo club?</a>
       <a href="javascript:void(0)" onclick="abrirVideoTutorial('jeKSYOt4BE8')">3. ¿Cómo cargar un patinador?</a>
       <a href="javascript:void(0)" onclick="abrirVideoTutorial('P1M0mnRPzgc')">4. ¿Cómo editar un patinador?</a>
       <a href="javascript:void(0)" onclick="abrirVideoTutorial('gmhyzn1eFOU')">5. ¿Cómo agregar un seguro?</a>
       <a href="javascript:void(0)" style="opacity:0.5; cursor:default;">6. Próximamente...</a>
       <a href="javascript:void(0)" style="opacity:0.5; cursor:default;">7. Próximamente...</a>
       <a href="javascript:void(0)" style="opacity:0.5; cursor:default;">8. Próximamente...</a>
    </div>
  </div>

  <div class="menu-seccion">
    <a href="javascript:void(0)" class="nav-item" onclick="mostrarCopa()">
      🏆 <span>COPA OPEN FEDERAL</span>
    </a>
  </div>
</nav>
</aside>

<div class="zona-derecha" id="main-content">
  <!-- MODAL DE VIDEOS DE YOUTUBE -->
  <div id="modal-video" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:9999; justify-content:center; align-items:center;">
      <div style="position:relative; width:90%; max-width:1000px; aspect-ratio:16/9; background:black; border:2px solid gold; border-radius:15px; box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);">
          <button onclick="cerrarVideoTutorial()" style="position:absolute; top:-20px; right:-20px; color:black; background:gold; border:2px solid white; width:40px; height:40px; border-radius:50%; font-weight:bold; font-size:1.2rem; cursor:pointer; z-index:100; box-shadow: 0 4px 6px rgba(0,0,0,0.3);">✕</button>
          <iframe id="iframe-video" width="100%" height="100%" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="border-radius:13px;"></iframe>
      </div>
  </div>

  <!-- MODAL OBLIGATORIO DE NOTIFICACIONES -->
  <div id="modal-force-notif" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.98); z-index:10000; flex-direction:column; justify-content:center; align-items:center; text-align:center; padding:20px;">
      <div style="max-width:500px; background:#1a1a1a; padding:40px; border-radius:20px; border: 2px solid gold; box-shadow: 0 0 50px rgba(255, 215, 0, 0.2);">
          <div style="font-size:3rem; margin-bottom:20px;">🔔</div>
          <h2 style="color:white; margin-bottom:15px;">Activación Requerida</h2>
          <p style="color:#ddd; margin-bottom:30px; line-height:1.6;">
              Para utilizar el Panel de Entrenadores, es <b>obligatorio</b> activar las notificaciones.<br>
              Así te enterarás al instante de nuevas fechas, archivos y zonas.
          </p>
          <button onclick="solicitarPermisoNotificaciones()" class="btn-pildora-nav" style="font-size:1.1rem; padding:15px 30px; width:100%;">
              ACTIVAR AHORA
          </button>
          <p id="msg-bloqueado" style="display:none; color:#ff4444; margin-top:20px; font-size:0.9rem;">
              ⚠️ Has bloqueado las notificaciones anteriormente.<br>
              Haz clic en el candadito 🔒 junto a la URL arriba a la izquierda y selecciona "Restablecer permisos" o "Permitir". Luego recarga la página.
          </p>
      </div>
  </div>
  
  <header class="header-admin">
    <div class="logo">
      <img src="img/logo.png" alt="Logo LIFEPAR" class="logo-img" />
      <div class="texto-logo">
        <h1>LIFEPAR</h1>
        <span class="slogan">es una realidad</span>
      </div>
    </div>
    <nav>
      <ul class="nav-buttons">
        <!-- NOTIFICACIONES -->
        <li style="position: relative;">
            <button id="btn-notificaciones" onclick="toggleNotificacionesPanel()" class="btn-icon-nav" title="Notificaciones">
                <svg class="bell-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
                </svg>
                <span id="badge-notif" class="badge-count" style="display:none">0</span>
            </button>
            <div id="panel-notificaciones" class="dropdown-notificaciones" style="display: none;">
                <iframe src="notificaciones.html" frameborder="0" width="100%" height="100%"></iframe>
            </div>
        </li>
        <li><a href="index.html" class="btn-pildora-nav">IR A LA WEB</a></li>
        <li><button onclick="logout()" class="btn-cerrar-sesion">CERRAR SESIÓN</button></li>
      </ul>
    </nav>
  </header>

  <div class="header-spacer"></div>

  <main class="contenedor-principal">
    <div class="bienvenida-seccion">
        <h2>Panel de Entrenadores <span class="frase-fina">Bienvenido a tu oficina virtual</span></h2>
 <div style="text-align: right; padding: 15px; font-family: 'Quicksand', sans-serif;">
    <span id="display-name" style="font-weight: bold; font-size: 1.2rem; color: #333;">Cargando...</span><br>
    <span id="display-email" style="font-size: 0.9rem; color: #666;"></span>
 </div>
</div>

<section id="vista-dinamica"></section>

      
    <section class="box-oficina" id="seguros" style="display: none;">
        <h3>Gestión de Seguros</h3>
        <div class="lista-links">
            <a href="https://forms.gle/qZJS945CVCF6spgA9" target="_blank" class="btn-link-fino">➕ Cargar seguro nuevo</a>
            <a href="docs/declaracion_jurada.pdf" target="_blank" class="btn-link-fino">📄 Descargar declaración</a>
            <a href="docs/info_seguro.pdf" target="_blank" class="btn-link-fino">📘 Información general</a>
        </div>
    </section>

    <section class="box-oficina" id="copa-federal" style="display: none;">
        <h3>Open Copa Federal</h3>
        <div class="lista-links">
            <a href="#" target="_blank" class="btn-link-fino">📄 Ver PDF del evento</a>
            <a href="#" target="_blank" class="btn-link-fino">📝 Formulario inscripción</a>
        </div>
    </section>
  </main> 
</div> 
<div id="modal-perfil" class="modal-overlay" style="display:none;">
    <div class="modal-ventana">
        <div class="modal-header">
            <h3>Mi Perfil de Entrenador</h3>
            <button onclick="cerrarPerfil()" class="btn-cerrar-modal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="campo-perfil">
                <label>Nombre y Apellido</label>
                <input type="text" id="perf-nombre" readonly>
            </div>
            <div class="campo-perfil">
                <label>Email Principal</label>
                <input type="email" id="perf-email" readonly>
            </div>
            <div class="campo-perfil">
                <label>Email Secundario</label>
                <input type="email" id="perf-email-sec" placeholder="otro@mail.com">
            </div>
            <div class="campo-perfil">
                <label>WhatsApp (Cod. País + Número)</label>
                <input type="tel" id="perf-whatsapp" placeholder="54911..." pattern="[0-9]{10,15}">
            </div>
            <div class="campo-perfil">
                <label>Fecha de Cumpleaños</label>
                <input type="date" id="perf-cumple">
            </div>
            <div class="campo-perfil">
                <label>Mis Zonas</label>
                <div class="grid-zonas">
                    <label><input type="checkbox" name="z-perfil" value="1"> Z1</label>
                    <label><input type="checkbox" name="z-perfil" value="2"> Z2</label>
                    <label><input type="checkbox" name="z-perfil" value="3"> Z3</label>
                    <label><input type="checkbox" name="z-perfil" value="4"> Z4</label>
                    <label><input type="checkbox" name="z-perfil" value="5"> Z5</label>
                    <label><input type="checkbox" name="z-perfil" value="6"> Z6</label>
                </div>
            </div>
            <div class="seccion-clubes">
                <label>Clubes Vinculados</label>
                <div id="lista-clubes-perfil" style="display:flex; flex-wrap:wrap; gap:8px;">
                </div>
            </div>
            <button class="btn-guardar-perfil" onclick="guardarDatosPerfil()">GUARDAR CAMBIOS</button>
        </div>
    </div>
</div>
<footer class="footer-premium"> <p>© 2026 <span class="brand">LIFEPAR</span> - Todos los derechos reservados</p>
        <div class="footer-contact">
        <a href="https://instagram.com/ligalifepar" target="_blank">📸 @ligalifepar</a>
        <a href="https://wa.me/541158512121" target="_blank">📱 11-5851-2121</a>
    </div>
</footer>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>


<script src="admin.js"></script>
</body>
</html>
